{% extends "base.html" %}
{% block content %}
<div class="container mt-4">
  <h2 class="mb-3">Patients</h2>

  <div class="table-responsive">
    <table id="patientsTable" class="table table-striped table-sm align-middle" style="width:100%">
      <thead>
        <tr>
          <th>Patient</th>
          <th>DOB</th>
          <th>Created</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>
</div>

<script>
$(function () {
  $('#patientsTable').DataTable({
    processing: true,
    serverSide: true,
    ajax: "{{ url_for('main.patients_api') }}",
    columns: [
      { title: "Patient" },
      { title: "DOB" },
      { title: "Created", className: "text-end" }
    ],
    pageLength: 10,
    lengthMenu: [5,10,25,50],
    searchDelay: 300
  });
});
</script>
{% endblock %}
